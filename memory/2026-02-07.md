# 2026-02-07 — Canasta Rules Knowledge Base

## Key Progress

### Facebook Group
- ✅ Joined **Canasta Course Community | Beginners & Learners** (Ramon's private group, 4 members)
- Accepted Ramon's invitation via browser

### Canasta Rules Knowledge Base Created
Set up `canasta-rules/` folder structure:
- `SCHEMA.md` — JSONL format documentation, workflow, categories
- `categories.md` — Rule category taxonomy
- `rules.jsonl` — Knowledge base (started with 13 entries)

### First Rule Extraction (TT001-TT013)
Extracted 13 rules from Tips & Tricks doc covering:
- Meld base requirements (5 for entire deal)
- Opening procedures (count face down first)
- Mismeld rules and partner restrictions
- Ace/wild card restrictions (can't add wilds to aces if didn't include at opening)
- Discard pile entry rules (top card doesn't count for points/purity)
- Courtesy special timing (only partner's immediate next turn after opening)

## Important Clarification from Ramon
> "These are all my internal documents created and approved by me. You do not need to compile this and get my approval on it. Assume these documents are approved."
> 
> "I was talking about approval once you start joining the canasta groups. There will be a lot of contradicting information there (table rules). For those, ask for approval first until we are in sync."

**Translation:** 
- Ramon's docs → `status: "approved"` automatically
- Facebook group research → `status: "pending"` until Ramon approves

## Google Doc Links (for future reference)
- **Beginner Course Script** (~25 pages): `https://docs.google.com/document/d/1pGJYovDk4olchC8OuHcu7Zco2v9lBGUkcWGX5lff_xA/edit`
- **Tips & Tricks**: `https://docs.google.com/document/d/1fex0JeE2tnhBjhdco6j0SHvYws8OprujCHf59D4fejQ/edit`
- **Course Outline**: `https://docs.google.com/document/d/1Wd0Xw6T4rHr1yLgNTGPgPnMWR7F_ry2sVp9sSNJ3Hkk/edit`
- **Course Ideas**: `https://docs.google.com/document/d/1AE3mVIjKs1hk3R5TjOJR2xZJH4cVKTDjFKlzVNmJgL4/edit`

## Next Steps
- [x] Process Tips & Tricks doc (13 rules extracted: TT001-TT013)
- [x] Process Beginner Course Script Modules 1-10 (37 rules extracted: CS001-CS037)
- [ ] Process Module 11 (Special Hands) - separate tab in course script
- [ ] Process Course Outline and Course Ideas docs
- [ ] All extracted rules get `status: "approved"` (Ramon's docs)

## Rules Database Progress — COMPLETE ✅
**61 rules total** in `canasta-rules/rules.jsonl`
- Course Script: CS001-CS044 (44 rules, Modules 1-12)
- Tips & Tricks: TT001-TT017 (17 rules)

Categories covered: setup, melding, wild_cards, canastas, drawing, special_cards, scoring, going_out, special_hands, etiquette, partners

**Note:** Course Outline and Course Ideas doc links returned 404 (file not found).

---

## Amazon Data Infrastructure (Phase 1) — Started

### Context
Ramon wants to replace fragile Google Sheets with proper data infrastructure:
- **Listing Optimization** (complex): 28 product/marketplace combos × 500-5000 rows each
- **Supply Chain**: Inventory tracking, reorder timing (simpler)
- **Goal**: Historical data retention, automation, I run scheduled tasks and reports

### Decisions Made
- **SQLite over cloud DB** — Free, local, reliable, fast enough for ~2M rows
- **Phased approach:**
  - Phase 1: Data foundation (database + collectors) ← NOW
  - Phase 2: Supply chain tool (simpler, good first win)
  - Phase 3: Listing optimization tool (complex)

### Infrastructure Created
**Location:** `~/amazon-data/`
```
amazon-data/
├── amazon.db              ← SQLite database (tested with 100K rows)
├── init_database.sql      ← Schema definition
├── docs/
│   └── SP-API-SETUP-GUIDE.md
├── collectors/            ← For data import scripts
├── reports/               ← For generated reports
└── backups/               ← For database backups
```

**Tables:**
- `products` — Master product list
- `search_query_performance` — Amazon SQP data (18 months retention)
- `keyword_ranking` — Organic/sponsored rank (30 days rolling)
- `ppc_performance` — Advertising spend & metrics
- `inventory_snapshot` — FBA + 3PL inventory
- `sales_daily` — Daily sales history
- `import_log` — Track imports

**Performance tested:** 100K rows, complex queries in <100ms ✓

### Next: Amazon SP-API Setup
Ramon needs to get credentials from Seller Central:
1. LWA Client ID
2. LWA Client Secret
3. Refresh Token (from self-authorization)

Guide saved at: `~/amazon-data/docs/SP-API-SETUP-GUIDE.md`

Once credentials are ready, I'll build the first data collector for Search Query Performance.
